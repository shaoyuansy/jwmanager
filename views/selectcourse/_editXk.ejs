
<div class="modal-dialog" style="margin-top: 10%">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="myModalLabel">教师选课</h4>
        </div>

        <div class="modal-body">
            <form id="myform">
                <input id="ID" name="ID" type="hidden" value="<%= cid %>">
                <input id="YN" name="YN" type="hidden" value="<%= yn %>">
                <input id="SUR" name="SUR" type="hidden" value="<%= sur %>">
                <div class="box-body">

                    <div class="form-group">
                        <label>头数</label>
                        <input id="XZTS" name="XZTS" type="number" min="1" max="<%= sur %>"
                               class="form-control" value="<%= xzts %>">
                    </div>
                    <div class="form-group" >
                        <label>教师名</label>
                        <input id="JSMC" name="JSMC" type="text"
                               class="form-control" value="<%= jsmc %>" placeholder="默认为当前登录名">
                    </div>
                    <div class="form-group" >
                        <label>备注</label>
                        <input id="BZ" name="BZ" type="text" class="form-control" value="<%= bz %>">
                    </div>
                </div>

                <!-- /.box-body -->
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
            <button type="button" class="btn btn-primary" onclick="submitForm()">提交</button>
        </div>
    </div><!-- /.modal-content -->
</div><!-- /.modal -->
<!-- 获取登录用户信息js-->
<script src="/javascripts/header.js"></script>
<script>
    function submitForm(){
        if(document.getElementById("XZTS").value == ''||document.getElementById("XZTS").value == 0){
            alert("头数不能为空");
        }
        else if(parseInt(document.getElementById("XZTS").value) > parseInt(document.getElementById("SUR").value)){
            alert("超出剩余头数");
        }
        else{
            $.ajax({
                type: "post",
                url: '/selectcourse/_editXk.html',
                dataType: "json",
                data: $('#myform').serialize(),// 你的formid 注：后台req.body由控件name获取数据
                async: false,
                cache: true,
                success: function (msg) {
                    if (msg.result != 0) {
                        $("#modal-edit-event").modal('hide');
                    }
                    location.reload();
                },
                error: function (e) {
                    console.log(e);
                }
            });
        }
    }
</script>